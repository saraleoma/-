<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>هموار - اپ احساسات</title>
<link href="https://fonts.googleapis.com/css2?family=Hajaar&family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
body {margin:0; padding:0; font-family:'Open Sans',sans-serif; background:#e0f7fa; display:flex; justify-content:center; align-items:center; min-height:100vh;}
.app-container {position:relative; width:100%; max-width:500px; padding:32px; border-radius:24px; backdrop-filter:blur(20px); background:rgba(255,255,255,0.25); box-shadow:0 8px 32px rgba(0,0,0,0.2); overflow:hidden;}
.card {position:relative; backdrop-filter: blur(20px); border-radius:16px; padding:16px; margin:16px 0; cursor:pointer; opacity:0; transform:translateY(20px); animation:fadeSlide 0.5s forwards; text-align:right;}
.card span { font-weight:600; font-size:1.1rem; }
.description { font-weight:300; font-size:0.9rem; margin-top:8px; }
@keyframes fadeSlide { to {opacity:1; transform:translateY(0);} }
h2 { font-family:'Hajaar',sans-serif; font-weight:700; text-align:center; margin-bottom:24px; }
.btn { display:inline-flex; align-items:center; justify-content:center; padding:12px 24px; border:none; border-radius:16px; cursor:pointer; font-weight:600; margin:8px 4px; transition:transform 0.2s;}
.btn:hover { transform:scale(1.05);}
.back-btn { background:rgba(0,0,0,0.2); color:#000;}
.start-btn { background-color:#FBF300; color:#ed3cc8; font-weight:700; }
.hidden { display:none; }
#result { text-align:center; font-weight:600; font-size:1.2rem; margin-top:20px;}
</style>
</head>
<body>
<div class="app-container">

    <div id="welcomePage">
        <h2>هموار، حامی احساس تو</h2>
        <p>خیلی از ما نمی‌دانیم دقیقاً چه احساسی داریم. هموار اینجاست تا در پروسه رشد و شناخت شخصیت کمکت کند احساساتت را دقیق‌تر تشخیص دهی و به رسمیت بشناسی.</p>
        <button class="btn start-btn" id="beginTestBtn">شروع تست</button>
    </div>

    <div id="page1" class="hidden">
        <h2>حالت چطوره؟</h2>
        <div id="layer1Cards"></div>
    </div>

    <div id="page2" class="hidden">
        <button class="btn back-btn" onclick="backPage('page1')">بازگشت</button>
        <h2>زیرشاخه احساس خود را انتخاب کنید</h2>
        <div id="layer2Cards"></div>
    </div>

    <div id="page3" class="hidden">
        <button class="btn back-btn" onclick="backPage('page2')">بازگشت</button>
        <h2>جزئیات دقیق احساس شما چیست؟</h2>
        <div id="layer3Cards"></div>
    </div>

    <div id="resultPage" class="hidden">
        <h2>حالت واقعی شما:</h2>
        <div id="result"></div>
        <button class="btn start-btn" onclick="window.location.href='https://www.hamvaar.com/cw'">راهت هموار</button>
        <button class="btn back-btn" onclick="restart()">شروع دوباره</button>
    </div>
</div>

<script>
// داده‌ها: ۸ احساس + دو زیرشاخه + توضیحات فارسی + گرادینت پاستلی
const emotions = {
"اعتماد": {color:'linear-gradient(135deg,#b3e5fc,#81d4fa)', description:"حس اطمینان و امنیت", children:{
  "امیدوار": {color:'linear-gradient(135deg,#b2ebf2,#80deea)', description:"انتظار مثبت و باور به رخدادهای خوب", children:{
    "منتظر": {color:'linear-gradient(135deg,#b2ebf2,#4dd0e1)', description:"پیش‌بینی و آماده بودن برای چیزی که می‌خواهیم بیفتد"},
    "مشتاق": {color:'linear-gradient(135deg,#80deea,#26c6da)', description:"آرزوی شدید برای رسیدن به چیزی که دوست داریم"}
  }},
  "پذیرفته شده": {color:'linear-gradient(135deg,#b3e5fc,#4fc3f7)', description:"حس تعلق و پذیرش", children:{
    "مورد احترام": {color:'linear-gradient(135deg,#81d4fa,#29b6f6)', description:"دیگران به ما اهمیت می‌دهند"},
    "ارزشمند": {color:'linear-gradient(135deg,#4fc3f7,#0288d1)', description:"احساس می‌کنیم وجود ما مهم و مؤثر است"}
  }}
}},
"خوشحالی": {color:'linear-gradient(135deg,#fff9c4,#fff176)', description:"احساس شادی و مثبت بودن", children:{
  "شاد": {color:'linear-gradient(135deg,#fff59d,#fff176)', description:"حس سرخوشی و رضایت", children:{
    "شگفت زده": {color:'linear-gradient(135deg,#fff176,#ffee58)', description:"لذت و شادمانی شدید"},
    "لذت بخش": {color:'linear-gradient(135deg,#fff59d,#fff176)', description:"رضایت از لحظه و محیط"}
  }},
  "مطمئن": {color:'linear-gradient(135deg,#fff59d,#fdd835)', description:"اعتماد به خود و محیط", children:{
    "افتخار": {color:'linear-gradient(135deg,#fff176,#fdd835)', description:"احساس غرور و اعتماد به نفس"},
    "با اعتماد": {color:'linear-gradient(135deg,#fff59d,#fbc02d)', description:"اطمینان و احساس قدرت داخلی"}
  }}
}},
"تعجب": {color:'linear-gradient(135deg,#c8e6c9,#a5d6a7)', description:"احساس شگفتی و غیرمنتظره بودن", children:{
  "شگفت زده": {color:'linear-gradient(135deg,#aed581,#81c784)', description:"احساس حیرت و تحسین", children:{
    "متعجب": {color:'linear-gradient(135deg,#aed581,#7cb342)', description:"حیرت و کنجکاوی شدید"},
    "تحسین": {color:'linear-gradient(135deg,#c5e1a5,#9ccc65)', description:"احساس اعجاب و جذابیت"}
  }},
  "سردرگم": {color:'linear-gradient(135deg,#dcedc8,#c5e1a5)', description:"احساس گیجی و عدم وضوح", children:{
    "ناامید": {color:'linear-gradient(135deg,#dcedc8,#aed581)', description:"سردرگمی و دلسردی"},
    "مشوش": {color:'linear-gradient(135deg,#c5e1a5,#8bc34a)', description:"عدم وضوح و شک"}
  }}
}},
"غم": {color:'linear-gradient(135deg,#b39ddb,#9575cd)', description:"احساس ناراحتی و اندوه", children:{
  "شرمسار": {color:'linear-gradient(135deg,#ce93d8,#ba68c8)', description:"حس گناه و پشیمانی", children:{
    "گناهکار": {color:'linear-gradient(135deg,#ba68c8,#ab47bc)', description:"احساس گناه شدید"},
    "پشیمان": {color:'linear-gradient(135deg,#ce93d8,#9c27b0)', description:"احساس تاسف و اندوه"}
  }},
  "تنها": {color:'linear-gradient(135deg,#b39ddb,#9575cd)', description:"احساس تنهایی و بی کسی", children:{
    "منزوی": {color:'linear-gradient(135deg,#9575cd,#7e57c2)', description:"احساس جدایی و انزوا"},
    "رها شده": {color:'linear-gradient(135deg,#7e57c2,#673ab7)', description:"احساس ترک شدگی و بی پناهی"}
  }}
}},
"ترس": {color:'linear-gradient(135deg,#7986cb,#5c6bc0)', description:"احساس خطر و نگرانی", children:{
  "ناایمن": {color:'linear-gradient(135deg,#9fa8da,#7986cb)', description:"احساس ناکافی بودن و رد شدن", children:{
    "کم توان": {color:'linear-gradient(135deg,#9fa8da,#7986cb)', description:"احساس ضعف و ناتوانی"},
    "رد شده": {color:'linear-gradient(135deg,#7986cb,#5c6bc0)', description:"احساس عدم پذیرش"}
  }},
  "نگران": {color:'linear-gradient(135deg,#9fa8da,#7986cb)', description:"احساس اضطراب و دلشوره", children:{
    "ترسیده": {color:'linear-gradient(135deg,#9fa8da,#5c6bc0)', description:"احساس ترس و هراس"},
    "وحشت زده": {color:'linear-gradient(135deg,#7986cb,#3f51b5)', description:"اضطراب شدید و نگرانی"}
  }}
}},
"عصبانیت": {color:'linear-gradient(135deg,#ef9a9a,#e57373)', description:"احساس خشم و ناراحتی", children:{
  "پرخاشگر": {color:'linear-gradient(135deg,#e57373,#ef5350)', description:"احساس خصومت و تحریک پذیری", children:{
    "خصمانه": {color:'linear-gradient(135deg,#ef5350,#f44336)', description:"خشم شدید و تحریک شده"},
    "تحریک شده": {color:'linear-gradient(135deg,#e57373,#e53935)', description:"عصبانیت و برانگیختگی"}
  }},
  "ناامید": {color:'linear-gradient(135deg,#ef9a9a,#ef5350)', description:"احساس ناکامی و رنجش", children:{
    "عصبانی": {color:'linear-gradient(135deg,#ef5350,#e53935)', description:"خشم و رنجش"},
    "دلخور": {color:'linear-gradient(135deg,#e57373,#d32f2f)', description:"ناراحتی و دلخوری"}
  }}
}},
"تنفر": {color:'linear-gradient(135deg,#ce93d8,#ba68c8)', description:"احساس انزجار و نفرت", children:{
  "ناراضی": {color:'linear-gradient(135deg,#ba68c8,#ab47bc)', description:"احساس ناخوشایند و عدم تمایل", children:{
    "محتقر": {color:'linear-gradient(135deg,#ab47bc,#9c27b0)', description:"نفرت شدید و دوری کردن"},
    "منزجر": {color:'linear-gradient(135deg,#ba68c8,#8e24aa)', description:"انزجار و بیزاری"}
  }},
  "اجتناب": {color:'linear-gradient(135deg,#ce93d8,#ba68c8)', description:"اجتناب و دوری از چیزی", children:{
    "مردد": {color:'linear-gradient(135deg,#ba68c8,#9c27b0)', description:"تردید و فاصله گرفتن"},
    "دوری": {color:'linear-gradient(135deg,#ce93d8,#ab47bc)', description:"دوری کردن و اجتناب"}
  }}
}},
"انتظار": {color:'linear-gradient(135deg,#ffb74d,#ffa726)', description:"احساس انتظار و آماده بودن", children:{
  "هیجان زده": {color:'linear-gradient(135deg,#ffb74d,#ff9800)', description:"شور و اشتیاق", children:{
    "پرشور": {color:'linear-gradient(135deg,#ffb74d,#fb8c00)', description:"انرژی و اشتیاق شدید"},
    "انرژی گرفته": {color:'linear-gradient(135deg,#ffa726,#f57c00)', description:"پر انرژی و آماده برای اقدام"}
  }},
  "مشتاق": {color:'linear-gradient(135deg,#ffb74d,#ff9800)', description:"علاقه و انگیزه", children:{
    "کنجکاو": {color:'linear-gradient(135deg,#ffb74d,#fb8c00)', description:"کنجکاوی و اشتیاق برای یادگیری"},
    "صبور": {color:'linear-gradient(135deg,#ffa726,#f57c00)', description:"صبر و آمادگی برای رسیدن به هدف"}
  }}
}}
};

// انتخاب‌ها
let selectedLayer1=null;
let selectedLayer2=null;

document.getElementById('beginTestBtn').addEventListener('click',()=>{
    document.getElementById('welcomePage').classList.add('hidden');
    document.getElementById('page1').classList.remove('hidden');
    renderLayer1();
});

function backPage(pageId){
    document.getElementById('page1').classList.add('hidden');
    document.getElementById('page2').classList.add('hidden');
    document.getElementById('page3').classList.add('hidden');
    document.getElementById('resultPage').classList.add('hidden');
    document.getElementById(pageId).classList.remove('hidden');
}

function restart(){
    selectedLayer1=null; selectedLayer2=null;
    document.getElementById('page1').classList.add('hidden');
    document.getElementById('page2').classList.add('hidden');
    document.getElementById('page3').classList.add('hidden');
    document.getElementById('resultPage').classList.add('hidden');
    document.getElementById('welcomePage').classList.remove('hidden');
}

function renderLayer1(){
    const container=document.getElementById('layer1Cards');
    container.innerHTML='';
    for(let key in emotions){
        const card=document.createElement('div');
        card.className='card';
        card.style.background=emotions[key].color;
        card.innerHTML=`<span>${key}</span><div class="description">${emotions[key].description}</div>`;
        card.onclick=()=>{selectedLayer1=key; renderLayer2(key);}
        container.appendChild(card);
    }
}

function renderLayer2(parent){
    document.getElementById('page1').classList.add('hidden');
    document.getElementById('page2').classList.remove('hidden');
    const children=emotions[parent].children;
    const container=document.getElementById('layer2Cards');
    container.innerHTML='';
    for(let key in children){
        const card=document.createElement('div');
        card.className='card';
        card.style.background=children[key].color;
        card.innerHTML=`<span>${key}</span><div class="description">${children[key].description}</div>`;
        card.onclick=()=>{selectedLayer2=key; renderLayer3(parent,key);}
        container.appendChild(card);
    }
}

function renderLayer3(parent,child){
    document.getElementById('page2').classList.add('hidden');
    document.getElementById('page3').classList.remove('hidden');
    const children=emotions[parent].children[child].children;
    const container=document.getElementById('layer3Cards');
    container.innerHTML='';
    for(let key in children){
        const card=document.createElement('div');
        card.className='card';
        card.style.background=children[key].color;
        card.innerHTML=`<span>${key}</span><div class="description">${children[key].description}</div>`;
        card.onclick=()=>{showResult(parent,child,key);}
        container.appendChild(card);
    }
}

function showResult(l1,l2,l3){
    document.getElementById('page3').classList.add('hidden');
    document.getElementById('resultPage').classList.remove('hidden');
    document.getElementById('result').innerHTML=`${l1} → ${l2} → ${l3}`;
}
</script>
</body>
</html>
